{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UpdateOffer = function UpdateOffer(_ref) {\n  var navigation = _ref.navigation;\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var _useState = useState({\n      position: \"\",\n      languages: [],\n      salary: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    job = _useState2[0],\n    setOffer = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dirty = _useState4[0],\n    setDirty = _useState4[1];\n  var navigate = useNavigate();\n  useEffect(function () {\n    axios.get(\"http://localhost:8000/api/offer/\" + id).then(function (res) {\n      return setOffer(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, [id]);\n  useEffect(function () {\n    if (dirty) {\n      OfferHandler();\n      setDirty(false);\n    }\n  }, [dirty]);\n  var handleCheckboxChange = function handleCheckboxChange(e) {\n    var value = e.target.value;\n    setOffer(function (prevState) {\n      var newLanguages = _toConsumableArray(prevState.languages);\n      if (e.target.checked) {\n        newLanguages.push(value);\n      } else {\n        var index = newLanguages.indexOf(value);\n        if (index !== -1) {\n          newLanguages.splice(index, 1);\n        }\n      }\n      setDirty(true);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        languages: newLanguages\n      });\n    });\n  };\n  var OfferHandler = function OfferHandler() {\n    console.log(job);\n    axios.put(\"http://localhost:8000/api/offer/\" + id, job).then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n  return _jsxs(\"div\", {\n    children: [_jsx(\"h1\", {\n      children: \"Actualizaci\\xF3n de Oferta:\"\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Offers');\n      },\n      children: _jsx(Text, {\n        children: \" Offer\"\n      })\n    }), _jsxs(\"form\", {\n      children: [_jsxs(\"p\", {\n        children: [\"Job: \", job.jobName]\n      }), _jsxs(\"p\", {\n        children: [\"Salary: \", job.earn]\n      }), _jsxs(\"div\", {\n        children: [_jsx(\"label\", {\n          htmlFor: \"languages\",\n          children: \"Lenguajes Requeridos:\"\n        }), _jsx(\"input\", {\n          type: \"checkbox\",\n          name: \"languages\",\n          value: \"JS\",\n          checked: job.languages.includes(\"JS\"),\n          onChange: handleCheckboxChange\n        }), \" \", \"JS\", _jsx(\"p\", {}), _jsx(\"input\", {\n          type: \"checkbox\",\n          name: \"languages\",\n          value: \"CSS\",\n          checked: job.languages.includes(\"CSS\"),\n          onChange: handleCheckboxChange\n        }), \" \", \"CSS\"]\n      })]\n    })]\n  });\n};\nexport default UpdateOffer;","map":{"version":3,"names":["axios","useEffect","useState","useNavigate","useParams","Link","jsx","_jsx","jsxs","_jsxs","UpdateOffer","_ref","navigation","_useParams","id","_useState","position","languages","salary","_useState2","_slicedToArray","job","setOffer","_useState3","_useState4","dirty","setDirty","navigate","get","then","res","data","catch","err","console","log","OfferHandler","handleCheckboxChange","e","value","target","prevState","newLanguages","_toConsumableArray","checked","push","index","indexOf","splice","_objectSpread","put","children","TouchableOpacity","onPress","Text","jobName","earn","htmlFor","type","name","includes","onChange"],"sources":["/Users/freperush/Downloads/Prueba/clientemobil1/Components/UpdateOffer.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst UpdateOffer = ({ navigation }) => {\r\n  const { id } = useParams();\r\n  const [job, setOffer] = useState({ position: \"\", languages: [], salary: 0 });\r\n  const [dirty, setDirty] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/api/offer/\" + id)\r\n      .then((res) => setOffer(res.data))\r\n      .catch((err) => console.log(err));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (dirty) {\r\n      OfferHandler();\r\n      setDirty(false);\r\n    }\r\n  }, [dirty]);\r\n\r\n  const handleCheckboxChange = (e) => {\r\n    const value = e.target.value;\r\n    setOffer((prevState) => {\r\n      const newLanguages = [...prevState.languages];\r\n      if (e.target.checked) {\r\n        newLanguages.push(value);\r\n      } else {\r\n        const index = newLanguages.indexOf(value);\r\n        if (index !== -1) {\r\n          newLanguages.splice(index, 1);\r\n        }\r\n      }\r\n      setDirty(true);\r\n      return { ...prevState, languages: newLanguages };\r\n    });\r\n  };\r\n\r\n  const OfferHandler = () => {\r\n    console.log(job);\r\n    axios\r\n      .put(`http://localhost:8000/api/offer/${id}`, job)\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Actualizaci√≥n de Oferta:</h1>\r\n      <TouchableOpacity onPress={() => navigation.navigate('Offers')}>\r\n<Text> Offer</Text>\r\n</TouchableOpacity>\r\n      <form>\r\n        <p>Job: {job.jobName}</p>\r\n        <p>Salary: {job.earn}</p>\r\n        <div>\r\n          <label htmlFor=\"languages\">Lenguajes Requeridos:</label>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"languages\"\r\n            value=\"JS\"\r\n            checked={job.languages.includes(\"JS\")}\r\n            onChange={handleCheckboxChange}\r\n          />{\" \"}\r\n          JS\r\n          <p></p>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"languages\"\r\n            value=\"CSS\"\r\n            checked={job.languages.includes(\"CSS\")}\r\n            onChange={handleCheckboxChange}\r\n          />{\" \"}\r\n          CSS\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateOffer;\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAGxC,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAAuB;EAAA,IAAjBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC/B,IAAAC,UAAA,GAAeT,SAAS,EAAE;IAAlBU,EAAE,GAAAD,UAAA,CAAFC,EAAE;EACV,IAAAC,SAAA,GAAwBb,QAAQ,CAAC;MAAEc,QAAQ,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAE,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAL,SAAA;IAArEM,GAAG,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACpB,IAAAI,UAAA,GAA0BrB,QAAQ,CAAC,KAAK,CAAC;IAAAsB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAlCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAMG,QAAQ,GAAGxB,WAAW,EAAE;EAE9BF,SAAS,CAAC,YAAM;IACdD,KAAK,CACF4B,GAAG,CAAC,kCAAkC,GAAGd,EAAE,CAAC,CAC5Ce,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKR,QAAQ,CAACQ,GAAG,CAACC,IAAI,CAAC;IAAA,EAAC,CACjCC,KAAK,CAAC,UAACC,GAAG;MAAA,OAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAAA,EAAC;EACrC,CAAC,EAAE,CAACnB,EAAE,CAAC,CAAC;EAERb,SAAS,CAAC,YAAM;IACd,IAAIwB,KAAK,EAAE;MACTW,YAAY,EAAE;MACdV,QAAQ,CAAC,KAAK,CAAC;IACjB;EACF,CAAC,EAAE,CAACD,KAAK,CAAC,CAAC;EAEX,IAAMY,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,CAAC,EAAK;IAClC,IAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5BjB,QAAQ,CAAC,UAACmB,SAAS,EAAK;MACtB,IAAMC,YAAY,GAAAC,kBAAA,CAAOF,SAAS,CAACxB,SAAS,CAAC;MAC7C,IAAIqB,CAAC,CAACE,MAAM,CAACI,OAAO,EAAE;QACpBF,YAAY,CAACG,IAAI,CAACN,KAAK,CAAC;MAC1B,CAAC,MAAM;QACL,IAAMO,KAAK,GAAGJ,YAAY,CAACK,OAAO,CAACR,KAAK,CAAC;QACzC,IAAIO,KAAK,KAAK,CAAC,CAAC,EAAE;UAChBJ,YAAY,CAACM,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QAC/B;MACF;MACApB,QAAQ,CAAC,IAAI,CAAC;MACd,OAAAuB,aAAA,CAAAA,aAAA,KAAYR,SAAS;QAAExB,SAAS,EAAEyB;MAAY;IAChD,CAAC,CAAC;EACJ,CAAC;EAED,IAAMN,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBF,OAAO,CAACC,GAAG,CAACd,GAAG,CAAC;IAChBrB,KAAK,CACFkD,GAAG,sCAAoCpC,EAAE,EAAIO,GAAG,CAAC,CACjDQ,IAAI,CAAC,UAACC,GAAG,EAAK;MACbI,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;IAClB,CAAC,CAAC,CACDE,KAAK,CAAC,UAACC,GAAG;MAAA,OAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAAA,EAAC;EACrC,CAAC;EAED,OACExB,KAAA;IAAA0C,QAAA,GACE5C,IAAA;MAAA4C,QAAA,EAAI;IAAwB,EAAK,EACjC5C,IAAA,CAAC6C,gBAAgB;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMzC,UAAU,CAACe,QAAQ,CAAC,QAAQ,CAAC;MAAA,CAAC;MAAAwB,QAAA,EACrE5C,IAAA,CAAC+C,IAAI;QAAAH,QAAA,EAAC;MAAM;IAAO,EACA,EACb1C,KAAA;MAAA0C,QAAA,GACE1C,KAAA;QAAA0C,QAAA,GAAG,OAAK,EAAC9B,GAAG,CAACkC,OAAO;MAAA,EAAK,EACzB9C,KAAA;QAAA0C,QAAA,GAAG,UAAQ,EAAC9B,GAAG,CAACmC,IAAI;MAAA,EAAK,EACzB/C,KAAA;QAAA0C,QAAA,GACE5C,IAAA;UAAOkD,OAAO,EAAC,WAAW;UAAAN,QAAA,EAAC;QAAqB,EAAQ,EACxD5C,IAAA;UACEmD,IAAI,EAAC,UAAU;UACfC,IAAI,EAAC,WAAW;UAChBpB,KAAK,EAAC,IAAI;UACVK,OAAO,EAAEvB,GAAG,CAACJ,SAAS,CAAC2C,QAAQ,CAAC,IAAI,CAAE;UACtCC,QAAQ,EAAExB;QAAqB,EAC/B,EAAC,GAAG,EAAC,IAEP,EAAA9B,IAAA,SAAO,EACPA,IAAA;UACEmD,IAAI,EAAC,UAAU;UACfC,IAAI,EAAC,WAAW;UAChBpB,KAAK,EAAC,KAAK;UACXK,OAAO,EAAEvB,GAAG,CAACJ,SAAS,CAAC2C,QAAQ,CAAC,KAAK,CAAE;UACvCC,QAAQ,EAAExB;QAAqB,EAC/B,EAAC,GAAG,EAAC,KAET;MAAA,EAAM;IAAA,EACD;EAAA,EACH;AAEV,CAAC;AAED,eAAe3B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}