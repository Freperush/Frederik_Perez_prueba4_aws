{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport axios from 'axios';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Offers = function Offers() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    offerList = _useState2[0],\n    setOfferList = _useState2[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    axios.get('http://172.29.38.90:8001/api/offers').then(function (offers) {\n      return setOfferList(offers.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n  var updateOfferDom = function updateOfferDom(offerId) {\n    setOfferList(offerList.filter(function (offer) {\n      return offer._id !== offerId;\n    }));\n  };\n  var deleteHandler = function deleteHandler(offerId) {\n    axios.delete(\"http://172.29.38.90:8001/api/offer/${offerId}\").then(function (res) {\n      console.log(res);\n      updateOfferDom(offerId);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      children: [_jsxs(Text, {\n        children: [item.jobName, \" - \", item.earn]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"UpdateOffer\", {\n            id: item._id\n          });\n        },\n        children: _jsxs(Text, {\n          children: [\"View Offer+\", item._id]\n        })\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          return deleteHandler(item._id);\n        },\n        children: [_jsx(Text, {\n          children: \"Delete Offer\"\n        }), _jsx(Text, {\n          children: \"................................\"\n        }), _jsx(Text, {\n          children: \" \"\n        })]\n      })]\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsx(Button, {\n      title: \"New Offer\",\n      onPress: function onPress() {\n        return navigation.navigate('OfferNew');\n      }\n    }), _jsx(FlatList, {\n      data: offerList,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      }\n    })]\n  });\n};\nexport default Offers;","map":{"version":3,"names":["React","useEffect","useState","Button","View","Text","TouchableOpacity","FlatList","axios","useNavigation","jsxs","_jsxs","jsx","_jsx","Offers","_useState","_useState2","_slicedToArray","offerList","setOfferList","navigation","get","then","offers","data","catch","err","console","log","updateOfferDom","offerId","filter","offer","_id","deleteHandler","delete","res","renderItem","_ref","item","children","jobName","earn","onPress","navigate","id","title","keyExtractor"],"sources":["/Users/freperush/Downloads/Prueba/clientemobil1/Components/Offers.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button,View, Text, TouchableOpacity, FlatList } from 'react-native';\r\nimport axios from 'axios';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst Offers = () => {\r\nconst [offerList, setOfferList] = useState([]);\r\nconst navigation = useNavigation();\r\n\r\nuseEffect(() => {\r\naxios.get('http://172.29.38.90:8001/api/offers')\r\n.then((offers) => setOfferList(offers.data))\r\n.catch((err) => console.log(err));\r\n}, []);\r\n\r\nconst updateOfferDom = (offerId) => {\r\nsetOfferList(offerList.filter((offer) => offer._id !== offerId));\r\n};\r\n\r\nconst deleteHandler = (offerId) => {\r\naxios.delete(\"http://172.29.38.90:8001/api/offer/${offerId}\")\r\n.then((res) => {\r\nconsole.log(res);\r\nupdateOfferDom(offerId);\r\n})\r\n.catch((err) => console.log(err));\r\n};\r\n\r\nconst renderItem = ({ item }) => (\r\n<View>\r\n<Text>{item.jobName} - {item.earn}</Text>\r\n<TouchableOpacity onPress={() => navigation.navigate(\"UpdateOffer\", { id: item._id })}>\r\n<Text>View Offer+{  item._id }</Text>\r\n</TouchableOpacity>\r\n<TouchableOpacity onPress={() => deleteHandler(item._id)}>\r\n<Text>Delete Offer</Text>\r\n<Text>................................</Text>\r\n<Text> </Text>\r\n\r\n</TouchableOpacity>\r\n</View>\r\n);\r\n\r\nreturn (\r\n<View>\r\n\r\n<Button title=\"New Offer\" onPress={() => navigation.navigate('OfferNew')} />\r\n\r\n<FlatList\r\ndata={offerList}\r\nrenderItem={renderItem}\r\nkeyExtractor={(item) => item._id}\r\n/>\r\n</View>\r\n);\r\n};\r\n\r\nexport default Offers;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}