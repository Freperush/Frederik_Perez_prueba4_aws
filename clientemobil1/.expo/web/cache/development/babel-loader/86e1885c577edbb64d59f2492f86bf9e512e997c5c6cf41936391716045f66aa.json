{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useRoute, useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar UpdateOffer = function UpdateOffer() {\n  var id = useRoute().params.id;\n  var _useState = useState({\n      position: \"\",\n      languages: [],\n      salary: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    job = _useState2[0],\n    setOffer = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dirty = _useState4[0],\n    setDirty = _useState4[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    axios.get(\"http://172.29.38.90:8000/api/offer/\" + id).then(function (res) {\n      return setOffer(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, [id]);\n  useEffect(function () {\n    if (dirty) {\n      OfferHandler();\n      setDirty(false);\n    }\n  }, [dirty]);\n  var handleCheckboxChange = function handleCheckboxChange(value) {\n    setOffer(function (prevState) {\n      var newLanguages = _toConsumableArray(prevState.languages);\n      if (newLanguages.includes(value)) {\n        var index = newLanguages.indexOf(value);\n        if (index !== -1) {\n          newLanguages.splice(index, 1);\n        }\n      } else {\n        newLanguages.push(value);\n      }\n      setDirty(true);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        languages: newLanguages\n      });\n    });\n  };\n  var OfferHandler = function OfferHandler() {\n    console.log(job);\n    axios.put(\"http://172.29.38.90:8000/api/offer/${id}, job\").then(function (res) {\n      console.log(res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Actualizaci\\xF3n de Oferta:\"\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Offers');\n      },\n      children: _jsx(Text, {\n        children: \"Offer\"\n      })\n    }), _jsxs(View, {\n      children: [_jsxs(Text, {\n        children: [\"Job: \", job.position]\n      }), _jsxs(Text, {\n        children: [\"Salary: \", job.salary]\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Lenguajes Requeridos:\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleCheckboxChange(\"JS\");\n          },\n          children: _jsxs(Text, {\n            children: [job.languages.includes(\"JS\") ? \"✅\" : \"❌\", \" JS\"]\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleCheckboxChange(\"CSS\");\n          },\n          children: _jsxs(Text, {\n            children: [job.languages.includes(\"CSS\") ? \"✅\" : \"❌\", \" CSS\"]\n          })\n        })]\n      })]\n    })]\n  });\n};\nexport default UpdateOffer;","map":{"version":3,"names":["axios","useEffect","useState","TouchableOpacity","View","Text","useRoute","useNavigation","jsx","_jsx","jsxs","_jsxs","UpdateOffer","id","params","_useState","position","languages","salary","_useState2","_slicedToArray","job","setOffer","_useState3","_useState4","dirty","setDirty","navigation","get","then","res","data","catch","err","console","log","OfferHandler","handleCheckboxChange","value","prevState","newLanguages","_toConsumableArray","includes","index","indexOf","splice","push","_objectSpread","put","children","onPress","navigate"],"sources":["/Users/freperush/Downloads/Prueba/clientemobil1/Components/UpdateOffer.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { TouchableOpacity, View, Text } from \"react-native\";\r\nimport { useRoute, useNavigation } from \"@react-navigation/native\";\r\n\r\nconst UpdateOffer = () => {\r\nconst { id } = useRoute().params;\r\nconst [job, setOffer] = useState({ position: \"\", languages: [], salary: 0 });\r\nconst [dirty, setDirty] = useState(false);\r\nconst navigation = useNavigation();\r\n\r\nuseEffect(() => {\r\naxios\r\n.get(\"http://172.29.38.90:8000/api/offer/\" + id)\r\n.then((res) => setOffer(res.data))\r\n.catch((err) => console.log(err));\r\n}, [id]);\r\n\r\nuseEffect(() => {\r\nif (dirty) {\r\nOfferHandler();\r\nsetDirty(false);\r\n}\r\n}, [dirty]);\r\n\r\nconst handleCheckboxChange = (value) => {\r\nsetOffer((prevState) => {\r\nconst newLanguages = [...prevState.languages];\r\nif (newLanguages.includes(value)) {\r\nconst index = newLanguages.indexOf(value);\r\nif (index !== -1) {\r\nnewLanguages.splice(index, 1);\r\n}\r\n} else {\r\nnewLanguages.push(value);\r\n}\r\nsetDirty(true);\r\nreturn { ...prevState, languages: newLanguages };\r\n});\r\n};\r\n\r\nconst OfferHandler = () => {\r\nconsole.log(job);\r\naxios\r\n.put(\"http://172.29.38.90:8000/api/offer/${id}, job\")\r\n.then((res) => {\r\nconsole.log(res);\r\n})\r\n.catch((err) => console.log(err));\r\n};\r\n\r\nreturn (\r\n<View>\r\n<Text>Actualización de Oferta:</Text>\r\n<TouchableOpacity onPress={() => navigation.navigate('Offers')}>\r\n<Text>Offer</Text>\r\n</TouchableOpacity>\r\n<View>\r\n<Text>Job: {job.position}</Text>\r\n<Text>Salary: {job.salary}</Text>\r\n<View>\r\n<Text>Lenguajes Requeridos:</Text>\r\n<TouchableOpacity onPress={() => handleCheckboxChange(\"JS\")}>\r\n<Text>{job.languages.includes(\"JS\") ? \"✅\" : \"❌\"} JS</Text>\r\n</TouchableOpacity>\r\n<TouchableOpacity onPress={() => handleCheckboxChange(\"CSS\")}>\r\n<Text>{job.languages.includes(\"CSS\") ? \"✅\" : \"❌\"} CSS</Text>\r\n</TouchableOpacity>\r\n</View>\r\n</View>\r\n</View>\r\n);\r\n};\r\n\r\nexport default UpdateOffer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}