{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport axios from 'axios';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Offers = function Offers(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    offerList = _useState2[0],\n    setOfferList = _useState2[1];\n  useEffect(function () {\n    axios.get('http://172.29.38.90:8001/api/offers').then(function (offers) {\n      return setOfferList(offers.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n  var updateOfferDom = function updateOfferDom(offerId) {\n    setOfferList(offerList.filter(function (offer) {\n      return offer._id !== offerId;\n    }));\n  };\n  var deleteHandler = function deleteHandler(offerId) {\n    axios.delete(\"http://172.29.38.90:8001/api/offer/${offerId}\").then(function (res) {\n      console.log(res);\n      updateOfferDom(offerId);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      children: [_jsxs(Text, {\n        children: [item.jobName, \" - \", item.earn]\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('offer/' + item._id);\n        },\n        children: _jsx(Text, {\n          children: \"View Offer\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return deleteHandler(item._id);\n        },\n        children: _jsx(Text, {\n          children: \"Delete Offer\"\n        })\n      })]\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsx(Button, {\n      title: \"New Offer\",\n      onPress: function onPress() {\n        return navigation.navigate('OfferNew');\n      }\n    }), _jsx(FlatList, {\n      data: offerList,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item._id;\n      }\n    })]\n  });\n};\nexport default Offers;","map":{"version":3,"names":["React","useEffect","useState","Button","View","Text","TouchableOpacity","FlatList","axios","jsxs","_jsxs","jsx","_jsx","Offers","_ref","navigation","_useState","_useState2","_slicedToArray","offerList","setOfferList","get","then","offers","data","catch","err","console","log","updateOfferDom","offerId","filter","offer","_id","deleteHandler","delete","res","renderItem","_ref2","item","children","jobName","earn","onPress","navigate","title","keyExtractor"],"sources":["/Users/freperush/Downloads/Prueba/clientemobil1/Components/Offers.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button,View, Text, TouchableOpacity, FlatList } from 'react-native';\r\nimport axios from 'axios';\r\n\r\nconst Offers = ({navigation}) => {\r\nconst [offerList, setOfferList] = useState([]);\r\n\r\nuseEffect(() => {\r\naxios.get('http://172.29.38.90:8001/api/offers')\r\n.then((offers) => setOfferList(offers.data))\r\n.catch((err) => console.log(err));\r\n}, []);\r\n\r\nconst updateOfferDom = (offerId) => {\r\nsetOfferList(offerList.filter((offer) => offer._id !== offerId));\r\n};\r\n\r\nconst deleteHandler = (offerId) => {\r\naxios.delete(\"http://172.29.38.90:8001/api/offer/${offerId}\")\r\n.then((res) => {\r\nconsole.log(res);\r\nupdateOfferDom(offerId);\r\n})\r\n.catch((err) => console.log(err));\r\n};\r\n\r\nconst renderItem = ({ item }) => (\r\n<View>\r\n<Text>{item.jobName} - {item.earn}</Text>\r\n<TouchableOpacity onPress={() => navigation.navigate('offer/' + item._id)}>\r\n<Text>View Offer</Text>\r\n</TouchableOpacity>\r\n<TouchableOpacity onPress={() => deleteHandler(item._id)}>\r\n<Text>Delete Offer</Text>\r\n</TouchableOpacity>\r\n</View>\r\n);\r\n\r\nreturn (\r\n<View>\r\n\r\n<Button title=\"New Offer\" onPress={() => navigation.navigate('OfferNew')} />\r\n\r\n<FlatList\r\ndata={offerList}\r\nrenderItem={renderItem}\r\nkeyExtractor={(item) => item._id}\r\n/>\r\n</View>\r\n);\r\n};\r\n\r\nexport default Offers;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}